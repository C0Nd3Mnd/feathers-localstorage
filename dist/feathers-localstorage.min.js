!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.localstorage=t():(e.feathers=e.feathers||{},e.feathers.localstorage=t())}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){(function(e){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.stripSlashes=function(e){return e.replace(/^(\/*)|(\/*)$/g,"")};var i=t._={each:function(e,t){e&&"function"==typeof e.forEach?e.forEach(t):i.isObject(e)&&Object.keys(e).forEach(function(r){return t(e[r],r)})},some:function(e,t){return Object.keys(e).map(function(t){return[e[t],t]}).some(function(e){var r=o(e,2),n=r[0],i=r[1];return t(n,i)})},every:function(e,t){return Object.keys(e).map(function(t){return[e[t],t]}).every(function(e){var r=o(e,2),n=r[0],i=r[1];return t(n,i)})},keys:function(e){return Object.keys(e)},values:function(e){return i.keys(e).map(function(t){return e[t]})},isMatch:function(e,t){return i.keys(t).every(function(r){return e[r]===t[r]})},isEmpty:function(e){return 0===i.keys(e).length},isObject:function(e){return"object"===n(e)&&!Array.isArray(e)&&null!==e},extend:function(){return Object.assign.apply(Object,arguments)},omit:function(e){for(var t=i.extend({},e),r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.forEach(function(e){return delete t[e]}),t},pick:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce(function(t,r){return void 0!==e[r]&&(t[r]=e[r]),t},{})},merge:function(e,t){return i.isObject(e)&&i.isObject(t)&&Object.keys(t).forEach(function(n){i.isObject(t[n])?(e[n]||Object.assign(e,r({},n,{})),i.merge(e[n],t[n])):Object.assign(e,r({},n,t[n]))}),e}};t.select=function(e){for(var t=e&&e.query&&e.query.$select,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];Array.isArray(t)&&n.length&&t.push.apply(t,n);var u=function(e){return Array.isArray(t)?i.pick.apply(i,[e].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(t))):e};return function(e){return Array.isArray(e)?e.map(u):u(e)}},t.isPromise=function(e){return i.isObject(e)&&"function"==typeof e.then},t.makeUrl=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o="function"==typeof n.get?n.get.bind(n):function(){},i=o("env")||"production",u=o("host")||e.env.HOST_NAME||"localhost",a="development"===i||"test"===i||void 0===i?"http":"https",c=o("port")||e.env.PORT||3030,s="development"===i||"test"===i||void 0===i?":".concat(c):"";return r=r||"","".concat(a,"://").concat(u).concat(s,"/").concat(t.stripSlashes(r))},t.compareNSB=function(e,t){return e<t?-1:t<e?1:0},t.compareArrays=function(e,r){var n,o;for(n=0;n<Math.min(e.length,r.length);n+=1)if(0!==(o=t.compare(e[n],r[n])))return o;return t.compareNSB(e.length,r.length)},t.compare=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t.compareNSB,o=t,i=o.compareNSB,u=o.compare,a=o.compareArrays;if(void 0===e)return void 0===r?0:-1;if(void 0===r)return void 0===e?0:1;if(null===e)return null===r?0:-1;if(null===r)return null===e?0:1;if("number"==typeof e)return"number"==typeof r?i(e,r):-1;if("number"==typeof r)return"number"==typeof e?i(e,r):1;if("string"==typeof e)return"string"==typeof r?n(e,r):-1;if("string"==typeof r)return"string"==typeof e?n(e,r):1;if("boolean"==typeof e)return"boolean"==typeof r?i(e,r):-1;if("boolean"==typeof r)return"boolean"==typeof e?i(e,r):1;if(e instanceof Date)return r instanceof Date?i(e.getTime(),r.getTime()):-1;if(r instanceof Date)return e instanceof Date?i(e.getTime(),r.getTime()):1;if(Array.isArray(e))return Array.isArray(r)?a(e,r):-1;if(Array.isArray(r))return Array.isArray(e)?a(e,r):1;for(var c=Object.keys(e).sort(),s=Object.keys(r).sort(),f=0,l=0;l<Math.min(c.length,s.length);l+=1)if(0!==(f=u(e[c[l]],r[s[l]])))return f;return i(c.length,s.length)},t.sorter=function(e){var r=Object.keys(e).map(function(t){return{key:t,direction:e[t]}});return function(e,n){for(var o,i=0;i<r.length;i++){var u=r[i];if(0!=(o=u.direction*t.compare(e[u.key],n[u.key])))return o}return 0}}}).call(this,r(1))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:u}catch(e){n=u}}();var c,s=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&h())}function h(){if(!f){var e=a(p);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function d(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new y(e,t)),1!==s.length||f||a(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=r(3).Service,f=[],l=function(e){function t(){var e,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(e=i(this,a(t).call(this,r)))._storageKey=r.name||"feathers",e._storage=r.storage||"undefined"!=typeof window&&window.localStorage,e._throttle=r.throttle||200,e.store=null,!e._storage)throw new Error("The `storage` option needs to be provided");if(-1!==f.indexOf(e._storageKey))throw new Error("The storage name '".concat(e._storageKey,"' is already in use by another instance."));return f.push(e._storageKey),e}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,s),r=t,(n=[{key:"ready",value:function(){var e=this;return this.store?Promise.resolve(this.store):Promise.resolve(this._storage.getItem(this._storageKey)).then(function(e){return JSON.parse(e||"{}")}).then(function(t){var r=Object.keys(t),n=t[r[r.length-1]];return e._uId=r.length&&void 0!==n[e.id]?n[e.id]+1:e._uId,e.store=t})}},{key:"flush",value:function(e){var t=this;return this._timeout||(this._timeout=setTimeout(function(){t._storage.setItem(t._storageKey,JSON.stringify(t.store)),delete t._timeout},this._throttle)),e}},{key:"execute",value:function(e){for(var r=this,n=arguments.length,o=new Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return this.ready().then(function(){var n;return(n=u(a(t.prototype),e,r)).call.apply(n,[r].concat(o))})}},{key:"find",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.execute.apply(this,["find"].concat(t))}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.execute.apply(this,["get"].concat(t))}},{key:"create",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.execute.apply(this,["create"].concat(r)).then(function(t){return e.flush(t)})}},{key:"patch",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.execute.apply(this,["patch"].concat(r)).then(function(t){return e.flush(t)})}},{key:"update",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.execute.apply(this,["update"].concat(r)).then(function(t){return e.flush(t)})}},{key:"remove",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.execute.apply(this,["remove"].concat(r)).then(function(t){return e.flush(t)})}}])&&o(r.prototype,n),t}();e.exports=function(e){return new l(e)},e.exports.Service=s},function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(4),u=r(5),a=r(9),c=a.sorter,s=a.select,f=a.filterQuery,l=a._,p=r(13),h=function(){var e=s.apply(void 0,arguments);return function(t){return e(JSON.parse(JSON.stringify(t)))}},y=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paginate=t.paginate||{},this._id=this.id=t.idField||t.id||"id",this._uId=t.startId||0,this.store=t.store||{},this.events=t.events||[],this._matcher=t.matcher,this._sorter=t.sorter||c}var t,r;return t=e,(r=[{key:"extend",value:function(e){return i.extend(e,this)}},{key:"_find",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:f)(e.query||{}),r=t.query,n=t.filters,o=h(e),i=l.values(this.store),u=(i=this._matcher?i.filter(this._matcher(r)):p(r,i)).length;return n.$sort&&i.sort(this._sorter(n.$sort)),n.$skip&&(i=i.slice(n.$skip)),void 0!==n.$limit&&(i=i.slice(0,n.$limit)),Promise.resolve({total:u,limit:n.$limit,skip:n.$skip||0,data:o(i)})}},{key:"find",value:function(e){var t=void 0!==e.paginate?e.paginate:this.paginate,r=this._find(e,function(e){return f(e,t)});return t&&t.default?r:r.then(function(e){return e.data})}},{key:"get",value:function(e,t){return e in this.store?Promise.resolve(this.store[e]).then(h(t,this.id)):Promise.reject(new u.NotFound("No record found for id '".concat(e,"'")))}},{key:"_create",value:function(e,t){var r=e[this._id]||this._uId++,o=l.extend({},e,n({},this._id,r));return Promise.resolve(this.store[r]=o).then(h(t,this.id))}},{key:"create",value:function(e,t){var r=this;return Array.isArray(e)?Promise.all(e.map(function(e){return r._create(e)})):this._create(e,t)}},{key:"_update",value:function(e,t,r){if(e in this.store){var o=this.store[e][this._id];return e=o==e?o:e,t=l.extend({},t,n({},this._id,e)),this.store[e]=t,Promise.resolve(this.store[e]).then(h(r,this.id))}return Promise.reject(new u.NotFound("No record found for id '".concat(e,"'")))}},{key:"update",value:function(e,t,r){return null===e||Array.isArray(t)?Promise.reject(new u.BadRequest("You can not replace multiple instances. Did you mean 'patch'?")):this._update(e,t,r)}},{key:"_patch",value:function(e,t,r){return e in this.store?(l.extend(this.store[e],l.omit(t,this._id)),Promise.resolve(this.store[e]).then(h(r,this.id))):Promise.reject(new u.NotFound("No record found for id '".concat(e,"'")))}},{key:"patch",value:function(e,t,r){var n=this;return null===e?this._find(r).then(function(e){return Promise.all(e.data.map(function(e){return n._patch(e[n._id],t,r)}))}):this._patch(e,t,r)}},{key:"_remove",value:function(e,t){if(e in this.store){var r=this.store[e];return delete this.store[e],Promise.resolve(r).then(h(t,this.id))}return Promise.reject(new u.NotFound("No record found for id '".concat(e,"'")))}},{key:"remove",value:function(e,t){var r=this;return null===e?this._find(t).then(function(e){return Promise.all(e.data.map(function(e){return r._remove(e[r._id],t)}))}):this._remove(e,t)}}])&&o(t.prototype,r),e}();e.exports=function(e){return new y(e)},e.exports.Service=y},function(e,t,r){var n,o;void 0===(o="function"==typeof(n=function(){var e="function"==typeof Object.getOwnPropertySymbols;return{create:function(){var e=Object.create(this),t="string"==typeof e.__init?e.__init:"init";return"function"==typeof e[t]&&e[t].apply(e,arguments),e},mixin:function(t,r){for(var n=r||this,o=/\b_super\b/,i=Object.getPrototypeOf(n)||n.prototype,u={},a=t,c=function(e){var t=Object.getOwnPropertyDescriptor(a,e);!u[e]&&t&&(u[e]=t)};Object.getOwnPropertyNames(a).forEach(c),e&&Object.getOwnPropertySymbols(a).forEach(c),(a=Object.getPrototypeOf(a))&&Object.getPrototypeOf(a););var s=function(t){var r,a,c,s,f,l,p=u[t];"function"==typeof p.value&&o.test(p.value)&&(p.value=(r=i,a=n[t],c=t,s=p.value,l=function(){var e=this._super;this._super=f?a:r[c];var t=s.apply(this,arguments);return this._super=e,t},(f="function"==typeof a)&&e&&Object.getOwnPropertySymbols(a).forEach(function(e){l[e]=a[e]}),l)),Object.defineProperty(n,t,p)};return Object.keys(u).forEach(s),e&&Object.getOwnPropertySymbols(u).forEach(s),n},extend:function(e,t){return this.mixin(e,Object.create(t||this))},proxy:function(e){var t=this[e],r=Array.prototype.slice.call(arguments,1);return r.unshift(this),t.bind.apply(t,r)}}})?n.apply(t,[]):n)||(e.exports=o)},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(6)("@feathersjs/errors");function i(e,t,r,u,a){var c,s,f;(e=e||"Error")instanceof Error?(s=e.message||"Error",e.errors&&(c=e.errors)):"object"===n(e)?(s=e.message||"Error",a=e):s=e,a&&((f=JSON.parse(JSON.stringify(a))).errors?(c=f.errors,delete f.errors):a.errors&&(c=JSON.parse(JSON.stringify(a.errors)))),this.type="FeathersError",this.name=t,this.message=s,this.code=r,this.className=u,this.data=f,this.errors=c||{},o("".concat(this.name,"(").concat(this.code,"): ").concat(this.message)),o(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function a(e,t){i.call(this,e,"BadRequest",400,"bad-request",t)}function c(e,t){i.call(this,e,"NotAuthenticated",401,"not-authenticated",t)}function s(e,t){i.call(this,e,"PaymentError",402,"payment-error",t)}function f(e,t){i.call(this,e,"Forbidden",403,"forbidden",t)}function l(e,t){i.call(this,e,"NotFound",404,"not-found",t)}function p(e,t){i.call(this,e,"MethodNotAllowed",405,"method-not-allowed",t)}function h(e,t){i.call(this,e,"NotAcceptable",406,"not-acceptable",t)}function y(e,t){i.call(this,e,"Timeout",408,"timeout",t)}function d(e,t){i.call(this,e,"Conflict",409,"conflict",t)}function m(e,t){i.call(this,e,"LengthRequired",411,"length-required",t)}function v(e,t){i.call(this,e,"Unprocessable",422,"unprocessable",t)}function b(e,t){i.call(this,e,"TooManyRequests",429,"too-many-requests",t)}function g(e,t){i.call(this,e,"GeneralError",500,"general-error",t)}function w(e,t){i.call(this,e,"NotImplemented",501,"not-implemented",t)}function C(e,t){i.call(this,e,"BadGateway",502,"bad-gateway",t)}function O(e,t){i.call(this,e,"Unavailable",503,"unavailable",t)}u(i,Error),Object.defineProperty(i.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}}),u(a,i),u(c,i),u(s,i),u(f,i),u(l,i),u(p,i),u(h,i),u(y,i),u(d,i),u(m,i),u(v,i),u(b,i),u(g,i),u(w,i),u(C,i),u(O,i);var j={FeathersError:i,BadRequest:a,NotAuthenticated:c,PaymentError:s,Forbidden:f,NotFound:l,MethodNotAllowed:p,NotAcceptable:h,Timeout:y,Conflict:d,LengthRequired:m,Unprocessable:v,TooManyRequests:b,GeneralError:g,NotImplemented:w,BadGateway:C,Unavailable:O,400:a,401:c,402:s,403:f,404:l,405:p,406:h,408:y,409:d,411:m,422:v,429:b,500:g,501:w,502:C,503:O};e.exports=Object.assign({convert:function(e){if(!e)return e;var t=j[e.name],r=t?new t(e.message,e.data):new Error(e.message||e);return"object"===n(e)&&Object.assign(r,e),r}},j)},function(e,t,r){(function(n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&("%c"===e&&(o=++n))}),t.splice(o,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(7)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(1))},function(e,t,r){e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function u(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(u.enabled){var i=u,a=Number(new Date),c=a-(r||a);i.diff=c,i.prev=r,i.curr=a,r=a,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;s++;var o=n.formatters[r];if("function"==typeof o){var u=t[s];e=o.call(i,u),t.splice(s,1),s--}return e}),n.formatArgs.call(i,t),(i.log||n.log).apply(i,t)}}return u.namespace=e,u.enabled=n.enabled(e),u.useColors=n.useColors(),u.color=t(e),u.destroy=o,u.extend=i,"function"==typeof n.init&&n.init(u),n.instances.push(u),u}function o(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){return n(this.namespace+(void 0===t?":":t)+e)}return((n.debug=n).default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(8),Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=36e5,n=864e5;function o(e,t,r,n){var o=1.5*r<=t;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var i=typeof e;if("string"===i&&0<e.length)return function(e){if(!(100<(e=String(e)).length)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*n;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*o;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===i&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);return n<=t?o(e,t,n,"day"):r<=t?o(e,t,r,"hour"):6e4<=t?o(e,t,6e4,"minute"):1e3<=t?o(e,t,1e3,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return n<=t?Math.round(e/n)+"d":r<=t?Math.round(e/r)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(0),o=r(10),i=r(11),u=r(12);e.exports=Object.assign({},n,i,{hooks:o,filterQuery:u})},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=r(0)._,u=i.each,a=i.pick,c=t.SKIP="undefined"!=typeof Symbol?Symbol("__feathersSkipHooks"):"__feathersSkipHooks",s=function(e){var t=o(e,2),r=t[0],n=t[1];return{id:r,params:void 0===n?{}:n}},f=function(e){var t=o(e,3),r=t[0],n=t[1],i=t[2];return{id:r,data:n,params:void 0===i?{}:i}};t.converters={find:function(e){var t=o(e,1)[0];return{params:void 0===t?{}:t}},create:function(e){var t=o(e,2),r=t[0],n=t[1];return{data:r,params:void 0===n?{}:n}},get:s,remove:s,update:f,patch:f},t.createHookObject=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=t.converters[e](r);return Object.defineProperty(o,"toJSON",{value:function(){return a(this,"type","method","path","params","id","data","result","error")}}),Object.assign(o,n,{method:e,get path(){var e=n.app,t=n.service;return t&&e&&e.services?Object.keys(e.services).find(function(r){return e.services[r]===t}):null}})},t.defaultMakeArguments=function(e){var t=[];return void 0!==e.id&&t.push(e.id),e.data&&t.push(e.data),t.push(e.params||{}),t},t.makeArguments=function(e){switch(e.method){case"find":return[e.params];case"get":case"remove":return[e.id,e.params];case"update":case"patch":return[e.id,e.data,e.params];case"create":return[e.data,e.params]}return t.defaultMakeArguments(e)},t.convertHookData=function(e){var t={};return Array.isArray(e)?t={all:e}:"object"!==n(e)?t={all:[e]}:u(e,function(e,r){t[r]=Array.isArray(e)?e:[e]}),t},t.isHookObject=function(e){return"object"===n(e)&&"string"==typeof e.method&&"string"==typeof e.type},t.getHooks=function(e,t,r,n){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],i=e.__hooks[r][n]||[],u=t.__hooks[r][n]||[];return o?u.concat(i):i.concat(u)},t.processHooks=function(e,r){var n=this,o=r,i=function(e){if(e){if(e===c)return c;if(!t.isHookObject(e))throw new Error("".concat(o.type," hook for '").concat(o.method,"' method returned invalid hook object"));o=e}return o};return e.reduce(function(e,t){var r=t.bind(n);return(e=2===r.length?e.then(function(e){return e===c?c:new Promise(function(t,n){r(e,function(e,r){return e?n(e):t(r)})})}):e.then(function(e){return e===c?c:r(e)})).then(i)},Promise.resolve(o)).then(function(){return o}).catch(function(e){throw e.hook=o,e})},t.enableHooks=function(e,r,n){if("function"==typeof e.hooks)return e;var o={};return n.forEach(function(e){o[e]={}}),Object.defineProperty(e,"__hooks",{value:o}),Object.assign(e,{hooks:function(e){var n=this;return u(e,function(e,o){if(!n.__hooks[o])throw new Error("'".concat(o,"' is not a valid hook type"));var i=t.convertHookData(e);u(i,function(e,t){if("all"!==t&&-1===r.indexOf(t))throw new Error("'".concat(t,"' is not a valid hook method"))}),r.forEach(function(e){var t=n.__hooks[o][e]||(n.__hooks[o][e]=[]);i.all&&t.push.apply(t,i.all),i[e]&&t.push.apply(t,i[e])})}),this}})}},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n={find:1,get:2,create:2,update:3,patch:3,remove:2};function o(e){return"object"===r(e)&&null!==e}t.validateArguments=function(e,t){if("function"==typeof t[t.length-1])throw new Error("Callbacks are no longer supported. Use Promises or async/await instead.");var r=n[e];if(r&&t.length>r)throw new Error("Too many arguments for '".concat(e,"' method"));var i=t[r-1];if(void 0!==i&&!o(i))throw new Error("Params for '".concat(e,"' method must be an object"));switch(e){case"create":if(!o(t[0]))throw new Error("A data object must be provided to the 'create' method");break;case"get":case"remove":case"update":case"patch":if(void 0===t[0])throw new Error("An id must be provided to the '".concat(e,"' method"));if(("update"===e||"patch"===e)&&!o(t[1]))throw new Error("A data object must be provided to the '".concat(e,"' method"))}return!0}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(0)._,i=["$sort","$limit","$skip","$select","$populate"];function u(e){if(void 0!==e)return Math.abs(parseInt(e,10))}e.exports=function(e,t){return{filters:{$sort:function(e){if("object"!==n(e)||Array.isArray(e))return e;var t={};return Object.keys(e).forEach(function(r){t[r]="object"===n(e[r])?e[r]:parseInt(e[r],10)}),t}(e.$sort),$limit:function(e,t){if(t&&t.default){var r="number"==typeof e?e:t.default,n="number"==typeof t.max?t.max:Number.MAX_VALUE;return Math.min(r,n)}return e}(u(e.$limit),t),$skip:u(e.$skip),$select:e.$select,$populate:e.$populate},query:o.omit.apply(o,[e].concat(i))}}},function(e,t){!function(){"use strict";function r(e){return"function"==typeof e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date?e.getTime():n(e)?e.map(o):e&&"function"==typeof e.toJSON?e.toJSON():e}function i(e,t){return r(e.get)?e.get(t):e[t]}function u(e){return function(t,r){if(!n(r)||!r.length)return e(t,r);for(var o=0,u=r.length;o<u;o++)if(e(t,i(r,o)))return!0;return!1}}function a(e,t,r,n){return e.v(e.a,t,r,n)}var c,s={$eq:u(function(e,t){return e(t)}),$ne:(c=function(e,t){return!e(t)},function(e,t){if(!n(t)||!t.length)return c(e,t);for(var r=0,o=t.length;r<o;r++)if(!c(e,i(t,r)))return!1;return!0}),$gt:u(function(e,t){return 0<m.compare(o(t),e)}),$gte:u(function(e,t){return 0<=m.compare(o(t),e)}),$lt:u(function(e,t){return m.compare(o(t),e)<0}),$lte:u(function(e,t){return m.compare(o(t),e)<=0}),$mod:u(function(e,t){return t%e[0]==e[1]}),$in:function(e,t){if(!(t instanceof Array)){var r=o(t);if(r===t&&"object"==typeof t)for(u=e.length;u--;)if(String(e[u])===String(t)&&"[object Object]"!==String(t))return!0;if(void 0===r)for(u=e.length;u--;)if(null==e[u])return!0;for(u=e.length;u--;){var n=a(d(i(e,u),void 0),t,u,e);if(n&&"[object Object]"!==String(n)&&"[object Object]"!==String(t))return!0}return!!~e.indexOf(r)}for(var u=t.length;u--;)if(~e.indexOf(o(i(t,u))))return!0;return!1},$nin:function(e,t,r,n){return!s.$in(e,t,r,n)},$not:function(e,t,r,n){return!a(e,t,r,n)},$type:function(e,t){return null!=t&&(t instanceof e||t.constructor==e)},$all:function(e,t,r,n){return s.$and(e,t,r,n)},$size:function(e,t){return!!t&&e===t.length},$or:function(e,t,r,n){for(var o=0,u=e.length;o<u;o++)if(a(i(e,o),t,r,n))return!0;return!1},$nor:function(e,t,r,n){return!s.$or(e,t,r,n)},$and:function(e,t,r,n){for(var o=0,u=e.length;o<u;o++)if(!a(i(e,o),t,r,n))return!1;return!0},$regex:u(function(e,t){return"string"==typeof t&&e.test(t)}),$where:function(e,t,r,n){return e.call(t,t,r,n)},$elemMatch:function(e,t,r,o){return n(t)?!!~l(t,e):a(e,t,r,o)},$exists:function(e,t,r,n){return n.hasOwnProperty(r)===e}},f={$eq:function(e){return e instanceof RegExp?function(t){return"string"==typeof t&&e.test(t)}:e instanceof Function?e:n(e)&&!e.length?function(e){return n(e)&&!e.length}:null===e?function(e){return null==e}:function(t){return 0===m.compare(o(t),e)}},$ne:function(e){return f.$eq(e)},$and:function(e){return e.map(y)},$all:function(e){return f.$and(e)},$or:function(e){return e.map(y)},$nor:function(e){return e.map(y)},$not:function(e){return y(e)},$regex:function(e,t){return new RegExp(e,t.$options)},$where:function(e){return"string"==typeof e?new Function("obj","return "+e):e},$elemMatch:function(e){return y(e)},$exists:function(e){return!!e}};function l(e,t){for(var r=0;r<e.length;r++)if(i(e,r),a(t,i(e,r)))return r;return-1}function p(e,t){return{a:e,v:t}}function h(e,t){var r=[];if(function e(t,r,o,u,a){if(o!==r.length&&null!=t){var c=i(r,o);if(n(t)&&isNaN(Number(c)))for(var s=0,f=t.length;s<f;s++)e(i(t,s),r,o,t,a);else e(i(t,c),r,o+1,t,a)}else a.push([t,r[o-1],u])}(t,e.k,0,t,r),1===r.length){var o=r[0];return a(e.nv,o[0],o[1],o[2])}for(var u=e&&e.q&&void 0!==e.q.$ne,c=u,s=0;s<r.length;s++){var f=r[s],l=a(e.nv,f[0],f[1],f[2]);u?c&=l:c|=l}return c}function y(e){var t;(e=o(e))&&(t=e)&&t.constructor===Object||(e={$eq:e});var r=[];for(var n in e){var i=e[n];if("$options"!==n)if(s[n])f[n]&&(i=f[n](i,e)),r.push(p(o(i),s[n]));else{if(36===n.charCodeAt(0))throw new Error("Unknown operation "+n);r.push({a:{k:n.split("."),nv:y(i),q:i},v:h})}}return 1===r.length?r[0]:p(r,s.$and)}function d(e,t){var r=y(e);return t&&(r={a:r,v:function(e,r,n,o){return a(e,t(r),n,o)}}),r}function m(e,t,n){r(t)&&(n=t,t=void 0);var o=d(e,n);function i(e,t,r){return a(o,e,t,r)}return t?t.filter(i):i}m.use=function(e){if(r(e))return e(m);for(var t in e)36===t.charCodeAt(0)&&(s[t]=e[t])},m.indexOf=function(e,t,r){return l(t,d(e,r))},m.compare=function(e,t){if(e===t)return 0;if(typeof e==typeof t){if(t<e)return 1;if(e<t)return-1}},void 0!==e&&void 0!==e.exports&&(Object.defineProperty(t,"__esModule",{value:!0}),e.exports=m,t.default=e.exports.default=m),"undefined"!=typeof window&&(window.sift=m)}()}])});